define("interface-widget-1:decrease/context.js",function(t,e,n){var o=t("disk-system:widget/system/baseService/payFactory/payFactory.js"),c={context:null},s={getContext:function(){return c.context},setContext:function(t){t.extend({tools:{payFactory:o}}),c.context=t}};n.exports=s});
;define("interface-widget-1:decrease/start.js",function(t,a,e){"use strict";e.exports={start:function(a){yunData&&1===yunData.SHOWVIPAD&&t.async("interface-widget-1:decrease/util/decrease.js",function(t){yunData.VIPENDTIME=yunData.VIPENDTIME>yunData.timestamp?yunData.VIPENDTIME:yunData.timestamp,t.start(a)})}}});
;define("interface-widget-1:decrease/util/decrease.js",function(e,t,a){"use strict";var i=e("base:widget/libs/jquerypacket.js"),o=e("interface-widget-1:decrease/context.js"),n="满减活动",c=['<div class="decrease-active">',"</div>",'<i class="decrease-close"></i>'],s={node:{layoutMain:"#layoutMain",toolbar:".module-toolbar",active:".decrease-active",close:".decrease-close"},api:{closeWindow:"/api/user/closeWindow"},tmpl:{active:c.join("")},conf:{},bindUI:function(){{var e=o.getContext().log,t=o.getContext().baiduLog,a=i(s.node.layoutMain);i(s.node.toolbar)}a.prepend(s.tmpl.active),i(s.node.active).on("click",function(){e.send({type:"active_decrease_pay_click"}),t.sendBaiduLog(n,n+"-广告点击次数"),e.send({type:"active_decrease_pay_user"}),t.sendBaiduLog(n,n+"-广告点击用户数"),s.util.pay()}),i(s.node.close).on("click",function(){e.send({type:"active_decrease_pay_close"}),t.sendBaiduLog(n,n+"-点击广告关闭次数"),s.util.close(s.node.active)})},util:{pay:function(){var e,t=i(s.node.active),a="1"===yunData.LOGINSTATUS?!0:!1,n="1"===yunData.ISVIP?!0:!1,c=o.getContext().ui;c.tip({mode:"loading",msg:"正在跳转至支付页面，请稍候...",sticky:!0,closeType:!1}),c.hideTip(),e=o.getContext().tools.payFactory.createPayService({mode:o.getContext().tools.payFactory.Mode_Vip,isLogin:a,isVip:n,serverTime:parseInt(yunData.timestamp,10),vipStartTime:parseInt(yunData.VIPENDTIME,10),productName:"vip1_1m",dqStateCode:"99_100_165",addFormItems:{aTag:1}}),e.toPay(),t.hide()},sendTypeInfo:function(e){i.get(s.api.closeWindow,{type:e},function(e){e&&0===e.errno})},close:function(e){var t=yunData.SHOWVIPAD;if(i(e).hide(),-1!==t){var a=1===t?"vip_manjian":"";s.util.sendTypeInfo(a)}}}};a.exports={start:function(e){o.setContext(e);var t=o.getContext().log,a=o.getContext().baiduLog;s.bindUI(),t.send({type:"active_decrease_init_user"}),a.sendBaiduLog(n,n+"-广告的用户数"),t.send({type:"active_decrease_init_show"}),a.sendBaiduLog(n,n+"-广告展示次数")}}});